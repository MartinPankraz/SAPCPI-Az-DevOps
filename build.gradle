/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java Library project to get you started.
 * For more details take a look at the Java Libraries chapter in the Gradle
 * User Manual available at https://docs.gradle.org/6.0/userguide/java_library_plugin.html
 */

apply plugin: 'groovy'
apply plugin: 'jacoco'

repositories {
   mavenCentral()
   jcenter()
}

dependencies {
   compile 'org.codehaus.groovy:groovy-all:3.0.2'
   compile fileTree(dir: 'lib', include: ['*.jar'])
   // https://mvnrepository.com/artifact/org.opentest4j/opentest4j
   compile group: 'org.opentest4j', name: 'opentest4j', version: '1.2.0'
   
   testCompile 'org.codehaus.groovy:groovy-all:3.0.2'
   //testCompile 'junit:junit:4.12'
   testCompile fileTree(dir: 'lib/spock', include: ['*.jar'])
   //testCompile 'com.athaydes:spock-reports:1.3.2'
   
   implementation "org.junit.jupiter:junit-jupiter-api:5.3.0"
   testRuntimeOnly "org.junit.vintage:junit-vintage-engine:5.3.0"
}

test {
	useJUnitPlatform()
	finalizedBy jacocoTestReport // report is always generated after tests run
	//systemProperty 'com.athaydes.spockframework.report.showCodeBlocks', true
}

jacocoTestReport {
	dependsOn test // tests are required to run before generating the report
	reports {
		xml.enabled true
		csv.enabled false
		//html.destination file("${buildDir}/reports/jacocoHtml")
	}
}